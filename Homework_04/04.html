<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>js_base_04</title>
</head>
<body>
    <script type="text/javascript">
        // 1. Создать функцию calculate(operand1, operand2, sign), где operand1 и operand2 — два числа, sign — знак арифметической операции.
        //    Функция должна расчитывать результат операции, исходя из переданного ей знака.
        //    Функция должна проверять корректность введенных чисел и знака операции.
        //    Все аргументы для функции принять от пользователя.

        var firstNumber = prompt('Enter first number', '');
        var secondNumber = prompt('Enter second number', '');
        var operand = prompt('Enter operand', '');

        document.write(firstNumber + operand + secondNumber + ' = ' + calculate(firstNumber, secondNumber, operand));

        /**
         *
         * @param firstOperand
         * @param secondOperand
         * @param operator
         * @returns {*}
         */
        function calculate(firstOperand, secondOperand, operator) {

            var operators = ['+', '-', '*', '/', '%'];

            if (isNaN(firstOperand) || firstOperand === '' || isNaN(secondOperand) || secondOperand === '' ||
                !operators.includes(operator) || arguments.length !== 3) {

                return 'Not correct input';
            }

            firstOperand = +firstOperand;
            secondOperand = + secondOperand;

            switch (operator) {
                case '+':
                    return firstOperand + secondOperand;
                case '-':
                    return firstOperand - secondOperand;
                case '*':
                    return firstOperand * secondOperand;
                case '/':
                    return firstOperand / secondOperand;
                case '%':
                    return firstOperand % secondOperand;
            }
        }

        document.write('<br>');
        document.write('====================================================<br>');
    </script>

    <script type="text/javascript">
        // 2. Создать функцию, возводящую число в степень, число и сама степень вводится пользователем

        var number, power;

        while (isNaN(number) || number == '' || number === null ) {
            number = prompt('Enter number');
        }

        while (isNaN(power) || power == '' || power === null ) {
            power = prompt('Enter power');
        }

        /**
         *
         * @param number
         * @param power
         * @returns {*}
         */
        function pow(number, power) {

            if (power === 0) {
                return 1;
            }
            if (power === 1) {
                return number;
            }
            if (power === 2) {
                return number * number;
            }

            return number * pow(number, power - 1);
        }

        document.write(number + '<sup>' + power + '</sup>' + ' = ' + pow(number, power));

        document.write('<br>');
        document.write('====================================================<br>');
    </script>

    <script type="text/javascript">
        // 3.  Создать игру "Камень-Ножницы-Бумага".
        //     Выбор компьютера определяется строкой:
        //     "var computerChoice = Math.random();
        //     alert(computerChoice);".
        //     Math.random() выдает произвольное число в промежутке от 0 до 1, на основании этого можно построить
        //     принцип выбора решения компьютера.

        var weapon = [
            'Камень',
            'Ножницы',
            'Бумага',
            'Колодец'
        ];

        var computerChoise = weapon[Math.floor(Math.random() * 4)];
        // alert('Выбор компьютера: ' + computerChoise);

        document.write('Выбор компьютера: ' + computerChoise);

        document.write('<br>');
        document.write('====================================================<br>');
    </script>

    <script type="text/javascript">
        // 4. Напишите функцию, которая возвращает n-е число Фибоначчи. Для решения используйте цикл.

        /**
         *
         * @param n
         * @returns {number}
         */
        function fibonacci(n) {

            var first = 0;
            var second = 1;

            if (n === 1) {
                return first;
            }
            if (n === 2) {
                return second;
            }

            var i = 2;

            while (i <= n) {
                sum = first + second;
                first = second;
                second = sum;
                i += 1;
            }

            return first;
        }

        var index = 0;
        while (!(+index > 0)) {
            index = prompt('Enter number', '');
        }

        document.write(index + '-й элемент последовательности Фибоначчи: ' + fibonacci(index));

    </script>
</body>
</html>
