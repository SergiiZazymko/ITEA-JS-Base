<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>js_base_06</title>
</head>
<body>
<script type="text/javascript">
    // 1. Создать объект Point, содержащий два свойства: "x" и "y" — координаты точки, и метод GetQuadrant, вычисляющий,
    //     в каком квадранте в декартовой системе координат находится данная точка.
    //     Протестируйте данный объект, изменяя значения его координат, и повторно вызавая метод GetQuadrant.
</script>

<script type="text/javascript">
    // 2. Создать объект Calculator, который должен содержать методы для расчета суммы, разности, произведения и частного двух чисел.
    //     Протестировать данный объект, принимая от пользователя значения двух операндов и знак операции.
    //     В зависимости от принятого знака операции, вызвать соответствующий метод.
</script>

<script type="text/javascript">
    // 3. Создать массив, который будет хранить в себе информацию о сотрудниках предприятия. Каждый элемент масива — объект,
    //     содержащий свойства: name, sName, age, occupation, и метод show, который выводит всю информацию о пользователе.
    //     Реализовать заполнение массива пользователем. По окончанию заполнения — вывести информацию о сотрудниках.
</script>

<script type="text/javascript">
    // 4. Для предыдущего задания создайте функцию, которая будет принимать в себя массив объектов-сотрудников, и каждому из объектов
    //     будет добавлять новое свойство "salary", хранящее зарплату сотрудника.
    //     Зарплата расчитывается, исходя из значения свойства "occupation" следующим образом:
    //     • "director" — 3000;
    //     • "manager" — 1500;
    //     • "programmer" — 2000;
    //     • для остальных значений — 1000.
    // После выполнения функции — вывести информацию о сотрудниках.

    var employeesList = [
        {
            'name' : 'John',
            'sName' : 'Cohnson',
            'age' : '89',
            'occupation' : 'director',
            'show' : function () {
                for (let key in this) {
                    if (typeof this[key] == 'function') {
                        continue;
                    }
                    document.write(key + ': ' + this[key] + '<br>');
                }
                document.write('**********************************<br>');
            }
        },
        {
            'name' : 'Mike',
            'sName' : 'Bohnson',
            'age' : '26',
            'occupation' : 'manager',
            'show' : function () {
                for (let key in this) {
                    if (typeof this[key] == 'function') {
                        continue;
                    }
                    document.write(key + ': ' + this[key] + '<br>');
                }
                document.write('**********************************<br>');
            }
        },
        {
            'name' : 'Ford',
            'sName' : 'Johnson',
            'age' : '18',
            'occupation' : 'worker',
            'show' : function () {
                for (let key in this) {
                    if (typeof this[key] == 'function') {
                        continue;
                    }
                    document.write(key + ': ' + this[key] + '<br>');
                }
                document.write('**********************************<br>');
            }
        },
    ];

    /**
     *
     * @param employeesList
     * @returns {*}
     */
    function calculateSalary(employeesList) {
        for (let len = employeesList.length, i = 0; i < len; i += 1) {
            if (employeesList[i] instanceof Object && 'occupation' in employeesList[i]) {
                switch (employeesList[i].occupation) {
                    case 'director':
                        employeesList[i].salary = 3000;
                        break;
                    case 'manager':
                        employeesList[i].salary = 1500;
                        break;
                    case 'programmer':
                        employeesList[i].salary = 2000;
                        break;
                    default:
                        employeesList[i].salary = 1000;
                }
            }
        }
        return employeesList;
    }

    employeesList = calculateSalary(employeesList);
    for (let len = employeesList.length, i = 0; i < len; i += 1) {
        employeesList[i].show();
    }
</script>

<script type="text/javascript">
    // 5. Для задания 3 создать метод, позволяющий отсортировать массив сотрудников по одному из свойств: name, sName, age, occupation, salary.
    //     Параметр для сортировки принимается от пользователя.
    //     После выполнения функции — вывести информацию о сотрудниках.

    var sorter = {
        'properties' : {
            'name' : true,
            'sName' : true,
            'age' : true,
            'occupation' : true,
            'salary' : true,
        },
        /**
         *
         * @param array
         * @param param
         * @returns {*}
         */
        'sort' : function (array, param) {
            if (param in this.properties) {
                return array.sort(function (a, b) {
                    if (a[param] < b[param]) {
                        return - 1;
                    }
                    if (a[param] > b[param]) {
                        return 1;
                    }
                    return 0;
                });
            }
            return false;
        }
    };

    if (sortedArray = sorter.sort(employeesList, prompt('Enter property for sorting'))) {
        for (let len = sortedArray.length, i = 0; i < len; i += 1) {
            sortedArray[i].show();
        }
    } else {
        document.write('Not correct input');
    }
</script>
